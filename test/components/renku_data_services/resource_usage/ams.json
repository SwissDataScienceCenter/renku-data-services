{
    "apiVersion": "amalthea.dev/v1alpha1",
    "kind": "AmaltheaSession",
    "metadata": {
        "annotations": {
            "renku.io/launcher_id": "01KCVFZW2N6S20JAY67K30JNJ7",
            "renku.io/project_id": "01KCVFX9BVTADB8SGHN7RJFJAP",
            "renku.io/resource_class_id": "4"
        },
        "creationTimestamp": "2026-01-14T14:42:04Z",
        "finalizers": [
            "amalthea.dev/secrets-finalizer"
        ],
        "generation": 6,
        "labels": {
            "renku.io/safe-username": "c59e6907-e670-4e03-a1b7-18616bb4678e"
        },
        "name": "eike-kettner-962026d34ba4",
        "namespace": "renku",
        "resourceVersion": "363666425",
        "uid": "3f51dcde-04fa-4a50-a887-a95ec0887145"
    },
    "spec": {
        "affinity": {
            "nodeAffinity": {
                "requiredDuringSchedulingIgnoredDuringExecution": {
                    "nodeSelectorTerms": [
                        {
                            "matchExpressions": [
                                {
                                    "key": "renku.io/node-purpose",
                                    "operator": "In",
                                    "values": [
                                        "user"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "authentication": {
            "enabled": true,
            "extraVolumeMounts": [
                {
                    "mountPath": "/authorized_emails",
                    "name": "renku-authorized-emails",
                    "subPath": "authorized_emails"
                },
                {
                    "mountPath": "/etc/ssl/certs/",
                    "name": "etc-ssl-certs",
                    "readOnly": true
                },
                {
                    "mountPath": "/usr/local/share/ca-certificates",
                    "name": "custom-ca-certs",
                    "readOnly": true
                }
            ],
            "secretRef": {
                "adopt": true,
                "key": "auth",
                "name": "eike-kettner-962026d34ba4"
            },
            "type": "oauth2proxy"
        },
        "culling": {
            "cpuIdleThreshold": "300m",
            "maxAge": "0s",
            "maxFailedDuration": "0s",
            "maxHibernatedDuration": "336h15m0s",
            "maxIdleDuration": "12h15m0s",
            "maxStartingDuration": "0s"
        },
        "extraVolumes": [
            {
                "emptyDir": {
                    "medium": "Memory"
                },
                "name": "etc-ssl-certs"
            },
            {
                "name": "custom-ca-certs",
                "projected": {
                    "defaultMode": 440,
                    "sources": []
                }
            },
            {
                "name": "renku-authorized-emails",
                "secret": {
                    "items": [
                        {
                            "key": "authorized_emails",
                            "path": "authorized_emails"
                        }
                    ],
                    "secretName": "eike-kettner-962026d34ba4"
                }
            }
        ],
        "hibernated": false,
        "ingress": {
            "annotations": {
                "kubernetes.io/ingress.class": "webapprouting.kubernetes.azure.com",
                "nginx.ingress.kubernetes.io/proxy-body-size": "0",
                "nginx.ingress.kubernetes.io/proxy-buffer-size": "8k",
                "nginx.ingress.kubernetes.io/proxy-request-buffering": "off"
            },
            "host": "dev.renku.ch",
            "ingressClassName": "webapprouting.kubernetes.azure.com",
            "pathPrefix": "/sessions/eike-kettner-962026d34ba4",
            "tlsSecret": {
                "adopt": false,
                "name": "dev-azure-renku-ch-tls"
            }
        },
        "initContainers": [
            {
                "image": "renku/certificates:0.0.2",
                "name": "init-certificates",
                "resources": {
                    "requests": {
                        "cpu": "50m",
                        "memory": "50Mi"
                    }
                },
                "securityContext": {
                    "allowPrivilegeEscalation": false,
                    "capabilities": {
                        "drop": [
                            "ALL"
                        ]
                    },
                    "runAsGroup": 1000,
                    "runAsNonRoot": true,
                    "runAsUser": 1000
                },
                "volumeMounts": [
                    {
                        "mountPath": "/etc/ssl/certs/",
                        "name": "etc-ssl-certs",
                        "readOnly": false
                    },
                    {
                        "mountPath": "/usr/local/share/ca-certificates",
                        "name": "custom-ca-certs",
                        "readOnly": true
                    }
                ]
            }
        ],
        "location": "local",
        "reconcileStrategy": "whenFailedOrHibernated",
        "session": {
            "env": [
                {
                    "name": "RENKU_BASE_URL_PATH",
                    "value": "/sessions/eike-kettner-962026d34ba4"
                },
                {
                    "name": "RENKU_BASE_URL",
                    "value": "https://dev.renku.ch/sessions/eike-kettner-962026d34ba4"
                },
                {
                    "name": "RENKU_MOUNT_DIR",
                    "value": "/home/renku/work"
                },
                {
                    "name": "RENKU_SESSION",
                    "value": "1"
                },
                {
                    "name": "RENKU_SESSION_IP",
                    "value": "0.0.0.0"
                },
                {
                    "name": "RENKU_SESSION_PORT",
                    "value": "8888"
                },
                {
                    "name": "RENKU_WORKING_DIR",
                    "value": "/home/renku/work"
                },
                {
                    "name": "RENKU_SECRETS_PATH",
                    "value": "/secrets"
                },
                {
                    "name": "RENKU_PROJECT_ID",
                    "value": "01KCVFX9BVTADB8SGHN7RJFJAP"
                },
                {
                    "name": "RENKU_PROJECT_PATH",
                    "value": "eike.kettner/next-project-test"
                },
                {
                    "name": "RENKU_LAUNCHER_ID",
                    "value": "01KCVFZW2N6S20JAY67K30JNJ7"
                }
            ],
            "image": "ghcr.io/swissdatasciencecenter/renku/py-basic-ttyd:2.9.0",
            "imagePullPolicy": "Always",
            "port": 8888,
            "readinessProbe": {
                "type": "tcp"
            },
            "resources": {
                "limits": {
                    "memory": "1Gi"
                },
                "requests": {
                    "cpu": "500m",
                    "memory": "1Gi"
                }
            },
            "runAsGroup": 1000,
            "runAsUser": 1000,
            "shmSize": "1G",
            "storage": {
                "mountPath": "/home/renku/work",
                "size": "1G"
            },
            "stripURLPath": false,
            "urlPath": "/sessions/eike-kettner-962026d34ba4/",
            "workingDir": "/home/renku/work"
        },
        "tolerations": [
            {
                "effect": "NoSchedule",
                "key": "renku.io/dedicated",
                "operator": "Equal",
                "value": "user"
            }
        ]
    },
    "status": {
        "conditions": [
            {
                "lastTransitionTime": "2026-01-20T13:28:13Z",
                "message": "The session is running",
                "reason": "Running",
                "status": "True",
                "type": "Ready"
            },
            {
                "lastTransitionTime": "2026-01-14T14:42:04Z",
                "message": "The ingress is setup and operational",
                "reason": "IngressOperational",
                "status": "True",
                "type": "RoutingReady"
            }
        ],
        "containerCounts": {
            "ready": 3,
            "total": 3
        },
        "failedSchedulingSince": "2026-01-20T10:29:25Z",
        "idle": true,
        "idleSince": "2026-01-20T13:28:13Z",
        "initContainerCounts": {
            "ready": 1,
            "total": 1
        },
        "state": "Running",
        "url": "https://dev.renku.ch/sessions/eike-kettner-962026d34ba4/",
        "willHibernateAt": "2026-01-21T01:43:13Z"
    }
}
