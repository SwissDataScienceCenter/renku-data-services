"""make data connector ids unique in entity slug table

Revision ID: a1f7f5fbec9a
Revises: 2d3bf387ef9a
Create Date: 2025-03-19 22:07:18.165355

"""

from alembic import op

# revision identifiers, used by Alembic.
revision = "a1f7f5fbec9a"
down_revision = "2d3bf387ef9a"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index("ix_common_entity_slugs_data_connector_id", table_name="entity_slugs", schema="common")
    op.create_index(
        op.f("ix_common_entity_slugs_data_connector_id"),
        "entity_slugs",
        ["data_connector_id"],
        unique=True,
        schema="common",
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f("ix_common_entity_slugs_data_connector_id"), table_name="entity_slugs", schema="common")
    op.create_index(
        "ix_common_entity_slugs_data_connector_id", "entity_slugs", ["data_connector_id"], unique=False, schema="common"
    )
    # ### end Alembic commands ###
