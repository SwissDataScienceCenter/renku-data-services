# generated by datamodel-codegen:
#   filename:  api.spec.yaml
#   timestamp: 2026-02-18T16:16:25+00:00

from __future__ import annotations

from typing import Optional

from pydantic import ConfigDict, Field, RootModel
from renku_data_services.resource_usage.apispec_base import BaseAPISpec


class ResourcePoolLimitPut(BaseAPISpec):
    model_config = ConfigDict(
        extra="forbid",
    )
    total_limit: int
    user_limit: int


class ResourceClassCostPut(BaseAPISpec):
    model_config = ConfigDict(
        extra="forbid",
    )
    cost: int


class ResourcePoolLimits(BaseAPISpec):
    model_config = ConfigDict(
        extra="forbid",
    )
    pool_id: int
    total_limit: int
    user_limit: int


class Error(BaseAPISpec):
    code: int = Field(..., examples=[1404], gt=0)
    detail: Optional[str] = Field(
        None, examples=["A more detailed optional message showing what the problem was"]
    )
    message: str = Field(
        ..., examples=["Something went wrong - please try again later"]
    )


class ErrorResponse(BaseAPISpec):
    error: Error


class Ulid(RootModel[str]):
    root: str = Field(
        ...,
        description="ULID identifier",
        max_length=26,
        min_length=26,
        pattern="^[0-7][0-9A-HJKMNP-TV-Z]{25}$",
    )
